---
title: Recurring payments API
subcategory: recurring
---
<div class="payu-page-header superhero-sticky">
<h1 class="payu-title1 bgreen">SDK integration - recurring payments</h1>
<ul class="hidden-xs">
	<li class="leaf"><a class="active" href="#como-funciona">How does it work?</a></li>
	<li class="leaf"><a href="#plan">Plan</a></li>
	<li class="leaf"><a href="#cliente">Costumer</a></li>
	<li class="leaf"><a href="#tarjeta-credito">Credit card</a></li>
	<li class="leaf"><a href="#suscripcion">Susbcription</a></li>
	<li class="leaf"><a href="#cargos-adicionales">Additional Charges</a></li>
</ul>
</div>

<div class="sh-container payu-white-bg">
<div class="container">
<div class="row" style="background-color: #f5f5f5;">

{% include sidemenu_sdk_en.html %}

<div id="page-menu-column2">
<div id="como-funciona" class="payu-fragment">
&nbsp;<br>
<span class="grey-text-13">Automated recurring payments are payments that are performed periodically (daily, monthly, annually), of consumption charges like goods or services such as memberships, subscriptions, policies or receipts with a fixed value that were previously authorized by the customer.</span>
&nbsp;<br>
<p align="center"><img src="/images/pagos-recurrentes1-en.jpg" border="0"></p>
&nbsp;<br>
Pointing to the corresponding URLs:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
<span class="grey-text-13"><b>PayU.paymentsUrl = “https://api.payulatam.com/payments-api/”;</b><br>
PayU.reportsUrl = “https://api.payulatam.com/reports-api/”; </span>
</div>
<div id="squelch-taas-tab-content-2">
<span class="grey-text-13">Environment::setPaymentsCustomUrl(“https://api.payulatam.com/payments-api/4.0/service.cgi”);/<br>
Environment::setReportsCustomUrl(“https://api.payulatam.com/reports-api/4.0/service.cgi”); <br>
<b>Environment::setSubscriptionsCustomUrl(“https://api.payulatam.com/payments-api/rest/v4.3/”);</b></span>
</div>
</div>
&nbsp;<br>
&nbsp;<br>
<span class="grey-text-13">The available methods for recurring payments are: <b>PLAN</b>, <b>CLIENT</b>, <b>CREDIT CARD</b>, <b>SUBSCRIPTION</b> and <b>ADDITIONAL CHARGES</b>. The following operations are available:</span>
</div>
<div id="plan" class="payu-fragment">
&nbsp;<br>
<div class="paso1"><span class="subtitle-page">PLAN</span></div>
&nbsp;<br>
<span class="grey-text-13">Using this feature you can register the credit card data from a customer and get a token sequence number.</span>
&nbsp;<br>
<span class="grey-text-13">The following operations are available:</span>
&nbsp;<br>
<table class="table-d" >
	<tr bgcolor="#696a6c">
		<td><span style="color: #fff; font-weight: bold;">Url</span></td>
		<td><span style="color: #fff; font-weight: bold;">Method</span></td>
		<td><span style="color: #fff; font-weight: bold;">Description</span></td>
	</tr>
	<tr>
		<td>/rest/v4.3/plans</td>
		<td>POST</td>
		<td>Creation of a new subscription plan associated to the shop.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/plans/{planCode}</td>
		<td>PUT</td>
		<td>Update a plan’s information for subscriptions.<br>
		{planCode} : Identification Code of the shop’s plan.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/plans/{planCode}</td>
		<td>GET</td>
		<td>Query all the information of a subscription plan associated to the shop.<br>
		{planCode} : plan’s Identification Code for the shop.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/plans/{planCode}</td>
		<td>DELETE</td>
		<td>Delete an entire subscription plan associated to the shop.<br>
		{planCode} : Identification of the shop’s plan.</td>
	</tr>
</table>

<!-- TABS PLAN -->
<b>Creation</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the plan‘s description here.
parameters.put(PayU.PARAMETERS.PLAN_DESCRIPTION, "Basic Plan");
// Enter the identification code of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CODE, "ASd456" + System.currentTimeMillis());
// Enter the interval of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL, "MONTH");
// Enter the number of intervals here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL_COUNT, "12");
// Enter the currency of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CURRENCY, "COP");
// Enter the value of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_VALUE, "50000");
// (OPTIONAL) Enter the tax value here.
parameters.put(PayU.PARAMETERS.PLAN_TAX, "10000");
// (OPTIONAL) Enter the tax base return here.
parameters.put(PayU.PARAMETERS.PLAN_TAX_RETURN_BASE, "40000");
// Enter the account ID of the plan here.
parameters.put(PayU.PARAMETERS.ACCOUNT_ID, "2");
// Enter the retry interval here
parameters.put(PayU.PARAMETERS.PLAN_ATTEMPTS_DELAY, "2");
// Enter the amount of charges that make up the plan here
parameters.put(PayU.PARAMETERS.PLAN_MAX_PAYMENTS, "2");
SubscriptionPlan response = PayUPlans.create(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the plan‘s description here.
	PayUParameters::PLAN_DESCRIPTION =&gt; "Sample Plan 001",
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
	// Enter the interval of the plan here.
	//DAY||WEEK||MONTH||YEAR
	PayUParameters::PLAN_INTERVAL =&gt; "MONTH",
	// Enter the number of intervals here.
	PayUParameters::PLAN_INTERVAL_COUNT =&gt; "1",
	// Enter the currency of the plan here.
	PayUParameters::PLAN_CURRENCY =&gt; "COP",
	// Enter the value of the plan here.
	PayUParameters::PLAN_VALUE =&gt; "10000",
	// (OPTIONAL) Enter the tax value here.
	PayUParameters::PLAN_TAX =&gt; "1600",
	// (OPTIONAL) Enter the tax base return here.
	PayUParameters::PLAN_TAX_RETURN_BASE =&gt; "8400",
	// Enter the account ID of the plan here.
	PayUParameters::ACCOUNT_ID =&gt; "500538",
	// Enter the retry interval here
	PayUParameters::PLAN_ATTEMPS_DELAY =&gt; "1",
	// Enter the amount of charges that make up the plan here
	PayUParameters::PLAN_MAX_PAYMENTS =&gt; "12",
	// Enter the total amount of retries here for each rejected subscription payment
	PayUParameters::PLAN_MAX_PAYMENT_ATTEMPTS =&gt; "3",
	// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
	PayUParameters::PLAN_MAX_PENDING_PAYMENTS =&gt; "1",
	// Enter the amount of trial days of the subscription here.
	PayUParameters::TRIAL_DAYS =&gt; "30",
);

$response = PayUSubscriptionPlans::create($parameters);
if($response){
	$response-&gt;id;
}
</pre>
</div>
</div>
<b>Update</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the new plan‘s description here
parameters.put(PayU.PARAMETERS.PLAN_DESCRIPTION, "New Basic Plan");
// Enter the identification code of the plan here (Must be an existing code) 
parameters.put(PayU.PARAMETERS.PLAN_CODE, "ASd4561379351327982");
// Enter the currency of the plan here (Must be the same used during the creation of the plan) 
parameters.put(PayU.PARAMETERS.PLAN_CURRENCY, "COP");
// Enter the new value of the plan here
parameters.put(PayU.PARAMETERS.PLAN_VALUE, "100000");
// (OPTIONAL) Enter the tax value here
parameters.put(PayU.PARAMETERS.PLAN_TAX, "10000");
// (OPTIONAL) Enter the tax base return here
parameters.put(PayU.PARAMETERS.PLAN_TAX_RETURN_BASE, "40000");
// Enter the retry interval here
parameters.put(PayU.PARAMETERS.PLAN_ATTEMPTS_DELAY, "3");
SubscriptionPlan response;
response = PayUPlans.update(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the plan‘s description here.
	PayUParameters::PLAN_DESCRIPTION =&gt; "New Sample Plan 001",
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
	// Enter the currency of the plan here.
	PayUParameters::PLAN_CURRENCY =&gt; "COP",
	// Enter the value of the plan here.
	PayUParameters::PLAN_VALUE =&gt; "10000",
	// (OPTIONAL) Enter the tax value here.
	PayUParameters::PLAN_TAX =&gt; "0",
	// (OPTIONAL) Enter the tax base return here.
	PayUParameters::PLAN_TAX_RETURN_BASE =&gt; "0",
	// Enter the retry interval here
	PayUParameters::PLAN_ATTEMPS_DELAY =&gt; "1",
	// Enter the total amount of retries here for each rejected subscription payment
	PayUParameters::PLAN_MAX_PAYMENT_ATTEMPTS =&gt; "3",
	// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
	PayUParameters::PLAN_MAX_PENDING_PAYMENTS =&gt; "1",
);

$response = PayUSubscriptionPlans::update($parameters);    
if($response){
}
</pre>
</div>
</div>
<b>Query</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the identification code of the plan here
parameters.put(PayU.PARAMETERS.PLAN_CODE, "ASd4561379351327982");
SubscriptionPlan response = PayUPlans.find(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
);

$response = PayUSubscriptionPlans::find($parameters);
if($response) {
	 $response-&gt;id;
	 $response-&gt;description;
	 $response-&gt;accountId;
	 $response-&gt;intervalCount;
	 $response-&gt;interval;
	 $response-&gt;maxPaymentsAllowed;
	 $response-&gt;maxPaymentAttempts;
	 $response-&gt;paymentAttemptsDelay;
	 $response-&gt;maxPendingPayments;
	 $response-&gt;trialDays;   
}  
</pre>
</div>
</div>
<b>Delete</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the identification code of the plan here
parameters.put(PayU.PARAMETERS.PLAN_CODE, "ASd4561379351327982");
boolean response = PayUPlans.delete(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
);

$response = PayUSubscriptionPlans::delete($parameters);
if($response) {
}
</pre>
</div>
</div>
<!-- FIN TABS PLAN -->
</div>

&nbsp;<br>
<div id="cliente" class="payu-fragment">
&nbsp;<br>
<div class="paso2"><span class="subtitle-page">Customer</span></div>
&nbsp;<br>
<span class="grey-text-13">A customer is the unit that identifies who will be the beneficiary of a provided product or service and is associated with a recurring payment plan..</span>
&nbsp;<br>
<span class="grey-text-13">The following operations are available:</span>
&nbsp;<br>
<table class="table-d" >
	<tr bgcolor="#696a6c">
		<td><span style="color: #fff; font-weight: bold;">Url</span></td>
		<td><span style="color: #fff; font-weight: bold;">Method</span></td>
		<td><span style="color: #fff; font-weight: bold;">Description</span></td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/</td>
		<td>POST</td>
		<td>Creation of a customer in the system.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/{customerId}</td>
		<td>PUT</td>
		<td>Updates the customer’s information in the system.<br>
		{customerId} : ID of the customer to be updated.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/{customerId}</td>
		<td>GET</td>
		<td>Queries the information related to the customer <br>
		{customerId} : ID of the customer from whom you want to find associated information.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/{customerId}</td>
		<td>DELETE</td>
		<td>Removes a user from the system.<br>
		{customerId} : ID of the customer to be deleted.</td>
	</tr>
</table>

<!-- TABS CLIENTE -->
<b>Creation</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the costumer name here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_NAME, "Oscar");
// Enter the costumer email here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_EMAIL, "oscar.romero@payulatam.com");
// Operation create costumer 
Customer response = PayUCustomers.create(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the costumer name here. 
	PayUParameters::CUSTOMER_NAME =&gt; "Pedro Perez",
	// Enter the costumer email here.
	PayUParameters::CUSTOMER_EMAIL =&gt; "pperez@payulatam.com"
);

$response = PayUCustomers::create($parameters);

if($response) {
	$response-&gt;id;
}
</pre>
</div>
</div>
<b>Update</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the costumer name here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_NAME, "Oscar");
// Enter the costumer email here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_EMAIL, "oscar.romero@payulatam.com");
// Operation create costumer 
Customer response = PayUCustomers.create(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the costumer ID here. 
	PayUParameters::CUSTOMER_ID =&gt; "24978c6l3e",
	// Enter the costumer name here. 
	PayUParameters::CUSTOMER_NAME =&gt; "Pedro Perez",
	// Enter the costumer email here.
	PayUParameters::CUSTOMER_EMAIL =&gt; "pperez@payulatam.com"
);
$response = PayUCustomers::update($parameters);

if($response){
	
}
</pre>
</div>
</div>
<b>Query</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the costumer ID here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "17ylzjz6bxz"); 
Customer response = PayUCustomers.find(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the costumer name here. 
	PayUParameters::CUSTOMER_ID =&gt; "24978c6l3e",
);
$response = PayUCustomers::find($parameters);

if($response) {
	$response-&gt;fullName;
	$response-&gt;email;
	$creditCards=$response-&gt;creditCards;
	
	foreach ($creditCards as $creditCard) {
		$creditCard-&gt;token;
		$creditCard-&gt;number;
		$creditCard-&gt;type;
		$creditCard-&gt;name;
		$address=$creditCard-&gt;address;
		$address-&gt;line1;
		$address-&gt;line2;
		$address-&gt;line3;
		$address-&gt;city;
		$address-&gt;state;
		$address-&gt;country;
		$address-&gt;postalCode;
		$address-&gt;phone;
	} 
}
</pre>
</div>
</div>
<b>Delete</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the costumer ID here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "17ylzjz6bxz");
boolean response = PayUCustomers.delete(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the costumer ID here. 
	PayUParameters::CUSTOMER_ID =&gt; "24978c6l3e"
);

$response = PayUCustomers::delete($parameters);

if($response){
	
}
</pre>
</div>
</div>
<!-- FIN TABS CLIENTE -->

</div>
&nbsp;<br>
<div id="tarjeta-credito" class="payu-fragment">
&nbsp;<br>
<div class="paso3"><span class="subtitle-page">Credit card</span></div>
&nbsp;<br>
<span class="grey-text-13">Is the payment mean with which a Plan and Payer relates, is composed of the number of credit card (which will be tokenized to store data securely), the expiration date of the card and some data additional steering.</span>
&nbsp;<br>
<span class="grey-text-13">The following operations are available:</span>
&nbsp;<br>
<table class="table-d" >
	<tr bgcolor="#696a6c">
		<td><span style="color: #fff; font-weight: bold;">Url</span></td>
		<td><span style="color: #fff; font-weight: bold;">Method</span></td>
		<td><span style="color: #fff; font-weight: bold;">Description</span></td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/{customerID}/creditCards</td>
		<td>POST</td>
		<td>Creation of a credit card (Token) and assignation to a user.<br>
		{customerId} : ID of the customer who you are going to associate the token with</td>
	</tr>
	<tr>
		<td>/rest/v4.3/creditCards/{creditCardId}</td>
		<td>PUT</td>
		<td>Update the token’s information.<br>
		{creditCardId} : Identifier of the token you want to update.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/creditCards/{creditCardId}</td>
		<td>GET</td>
		<td>Query the information of a credit card (Token) data identifier.<br>
		{creditCardId} : Credit Card Token you want to query.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/customers/{customerID}/creditCards/{creditCardId}</td>
		<td>DELETE</td>
		<td>Delete a credit card (Token) associated with a user.<br>
		{customerId} : Identifier of the customer from whom you are going to delete the token<br>
		{creditCardId} : Identifier of the token to be deleted.</td>
	</tr>
</table>

<!-- TABS TARJETA DE CREDITO -->
<b>Creation</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
//Enter the payer's ID here.
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "180oklk4o56");
//Enter the number of the credit card here
parameters.put(PayU.PARAMETERS.CREDIT_CARD_NUMBER, "4005580000029205");
//Enter the expiration date of the credit card here
parameters.put(PayU.PARAMETERS.CREDIT_CARD_EXPIRATION_DATE, "2015/01");
// Enter the credit card’s franchise.
parameters.put(PayU.PARAMETERS.PAYMENT_METHOD, "VISA");
//Enter the payer's name here.
parameters.put(PayU.PARAMETERS.PAYER_NAME, "Nombre");
// -- The following parameters are optional --
// Enter the first part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET, "Calle falsa");
// Ingresa aquí la segunda parte de la dirección (si aplica).
parameters.put(PayU.PARAMETERS.PAYER_STREET_2, "123");
// Ingresa aquí la tercera parte de la dirección (si aplica).
parameters.put(PayU.PARAMETERS.PAYER_STREET_3, "patio trasero");
// Enter the city here.
parameters.put(PayU.PARAMETERS.PAYER_CITY, "Bogotá");
// Enter the state here.
parameters.put(PayU.PARAMETERS.PAYER_STATE, "Bogotá D.C.");
// Enter the country here.
parameters.put(PayU.PARAMETERS.PAYER_COUNTRY, PaymentCountry.CO.name());
// Enter the postal code here.
parameters.put(PayU.PARAMETERS.PAYER_POSTAL_CODE, "00000");
// Enter the contact phone here. 
parameters.put(PayU.PARAMETERS.PAYER_PHONE, "300300300");
CreditCard response = PayUCreditCard.create(parameters);
LoggerUtil.info("{0}", response);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the costumer ID here. 
	PayUParameters::CUSTOMER_ID =&gt; "6eb24tzp40", 
	// Enter the costumer name here. 
	PayUParameters::PAYER_NAME =&gt; "Pedro Perez",
	//Enter the number of the credit card here
	PayUParameters::CREDIT_CARD_NUMBER =&gt; "4242424242424242",
	// Enter the expiration date of the credit card here with format YYYY/MM
	PayUParameters::CREDIT_CARD_EXPIRATION_DATE =&gt; "2018/01",
	// Enter the credit card’s franchise  
	PayUParameters::PAYMENT_METHOD =&gt; "VISA",
	// (OPTIONAL) Enter the payer's identification document here.
	PayUParameters::PAYER_DNI =&gt; "101010123",
	// (OPTIONAL) Enter the first part of the address here 
	PayUParameters::PAYER_STREET =&gt; "Street 93B",
	// (OPTIONAL) Enter the second part of the address here 
	PayUParameters::PAYER_STREET_2 =&gt; "17 25",
	// (OPTIONAL) Enter the third part of the address here 
	PayUParameters::PAYER_STREET_3 =&gt; "Office 301",
	// (OPTIONAL) Enter the city of the payer here.
	PayUParameters::PAYER_CITY =&gt; "Bogotá",
	// (OPTIONAL) Enter the state of the payer here.
	PayUParameters::PAYER_STATE =&gt; "Bogotá D.C.",
	// (OPTIONAL) Enter the code of the country here.
	PayUParameters::PAYER_COUNTRY =&gt; "CO",
	// (OPTIONAL) Enter the postal code of the payer here.
	PayUParameters::PAYER_POSTAL_CODE =&gt; "00000",
	// (OPTIONAL) Enter the contact phone here. 
	PayUParameters::PAYER_PHONE =&gt; "300300300"
);

$response = PayUCreditCards::create($parameters);

if($response){
	$response-&gt;token;
}
</pre>
</div>
</div>
<b>Update</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "180oklk4o56");
//Enter the expiration date of the credit card here
parameters.put(PayU.PARAMETERS.CREDIT_CARD_EXPIRATION_DATE, "2015/01");
//Enter the buyer's name here.
parameters.put(PayU.PARAMETERS.PAYER_NAME, "Nombre");
// -- The following parameters are optional –
// Enter the first part of the address here.
parameters.put(PayU.PARAMETERS.PAYER_STREET, "Calle 5476");
// Enter the second part of the address here (if applies)
parameters.put(PayU.PARAMETERS.PAYER_STREET_2, "123");
// Enter the third part of the address here (if applies)
parameters.put(PayU.PARAMETERS.PAYER_STREET_3, "patio trasero");
// Enter the city here.
parameters.put(PayU.PARAMETERS.PAYER_CITY, "Bogotá");
// Enter the state here.
parameters.put(PayU.PARAMETERS.PAYER_STATE, "Bogotá D.C.");
// Enter the country here.
parameters.put(PayU.PARAMETERS.PAYER_COUNTRY, PaymentCountry.CO.name());
// Enter the postal code here.
parameters.put(PayU.PARAMETERS.PAYER_POSTAL_CODE, "00000");
// Enter the contact phone here. 
parameters.put(PayU.PARAMETERS.PAYER_PHONE, "300300300");
CreditCard response = PayUCreditCard.update(parameters);
LoggerUtil.info("{0}", response);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the credit card’s token identifier here.
	PayUParameters::TOKEN_ID =&gt; "6f5f32d9-9c6f-4d57-97d7-68cde86f9266",
	// Enter the costumer name here. 
	PayUParameters::PAYER_NAME =&gt; "Pedro Perez",
	Enter the expiration date of the credit card here with format YYYY/MM
	PayUParameters::CREDIT_CARD_EXPIRATION_DATE =&gt; "2018/01",
	// (OPTIONAL) Enter the payer's identification document here.
	PayUParameters::PAYER_DNI =&gt; "101010123",
	// (OPTIONAL) Enter the first part of the address here 
	PayUParameters::PAYER_STREET =&gt; "Street 93B",
	// (OPTIONAL) Enter the second part of the address here 
	PayUParameters::PAYER_STREET_2 =&gt; "17 25",
	// (OPTIONAL) Enter the third part of the address here 
	PayUParameters::PAYER_STREET_3 =&gt; "Office 301",
	// (OPTIONAL) Enter the city of the payer here.
	PayUParameters::PAYER_CITY =&gt; "Bogotá",
	// (OPTIONAL) Enter the state of the payer here.
	PayUParameters::PAYER_STATE =&gt; "Bogotá D.C.",
	// (OPTIONAL) Enter the code of the country here.
	PayUParameters::PAYER_COUNTRY =&gt; "CO",
	// (OPTIONAL) Enter the postal code of the payer here.
	PayUParameters::PAYER_POSTAL_CODE =&gt; "00000",
	// (OPTIONAL) Enter the contact phone here. 
	PayUParameters::PAYER_PHONE =&gt; "300300300"
);

$response= PayUCreditCards::update($parameters);

if($response){

}
</pre>
</div>
</div>
<b>Query</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "25181bb1-b07f-4b9b-ae5d-6b13436c706d");
CreditCard response = PayUCreditCard.find(parameters);
LoggerUtil.info("{0}", response);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	// Enter the credit card’s token identifier here.
	PayUParameters::TOKEN_ID =&gt; "6f5f32d9-9c6f-4d57-97d7-68cde86f9266"
);

$response = PayUCreditCards::find($parameters);

if($response){
	$response-&gt;token;
	$response-&gt;number;
	$response-&gt;type;
	$response-&gt;name;
	$address=$response-&gt;address;
	$address-&gt;line1;
	$address-&gt;line2;
	$address-&gt;line3;
	$address-&gt;city;
	$address-&gt;state;
	$address-&gt;country;
	$address-&gt;postalCode;
	$address-&gt;phone;        
}
</pre>
</div>
</div>
<b>Delete</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "25181bb1-b07f-4b9b-ae5d-6b13436c706d");
// Enter the costumer ID here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "17ylzjz6bxz");
boolean response = PayUCreditCard.delete(parameters);
LoggerUtil.info("{0}", response);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the credit card’s token identifier here.
	PayUParameters::TOKEN_ID => "6f5f32d9-9c6f-4d57-97d7-68cde86f9266",
	// Enter the costumer ID here. 
	PayUParameters::CUSTOMER_ID => "6eb24tzp40"
);

$response = PayUCreditCards::delete($parameters);

if($response){

}
</pre>
</div>
</div>
<!-- FIN TABS TARJETA DE CREDITO -->
</div>

&nbsp;<br>
<div id="suscripcion" class="payu-fragment">
&nbsp;<br>
<div class="paso4"><span class="subtitle-page">Subscription</span></div>
&nbsp;<br>
<span class="grey-text-13">A subscription is the relationship between a payment plan, a payer and a credit card and it is the element that controls the execution of the respective charges.</span>
&nbsp;<br>
<span class="grey-text-13">The following operations are available:</span>
&nbsp;<br>
<table class="table-d" >
	<tr bgcolor="#696a6c">
		<td><span style="color: #fff; font-weight: bold;">Url</span></td>
		<td><span style="color: #fff; font-weight: bold;">Method</span></td>
		<td><span style="color: #fff; font-weight: bold;">Description</span></td>
	</tr>
	<tr>
		<td>/rest/v4.3/subscriptions/</td>
		<td>POST</td>
		<td>Creation of a new subscription from a customer to a plan.</td>
	</tr>
	<tr>
		<td>/rest/v4.3/subscriptions/{subscriptionId}</td>
		<td>PUT</td>
		<td>Update information associated with the specified subscription. At the moment it is only possible to update the credit card token to which the charge of the subscription is made.<br>
		{subscriptionId} : ID of the subscription</td>
	</tr>
	<tr>
		<td>/rest/v4.3/subscriptions/{subscriptionId}</td>
		<td>GET</td>
		<td>Query the basic information associated with the specified subscription.<br>
		{subscriptionId} : Identification of the subscription</td>
	</tr>
	<tr>
		<td>/rest/v4.3/subscriptions/{subscriptionId}</td>
		<td>DELETE</td>
		<td>Delete the subscription, i.e. the relation of the custom with the plan.<br>
		{subscriptionId} : Identification of the subscription.</td>
	</tr>
</table>

<!-- TABS SUSCRIPCION -->

<!-- SUSCRIPCION CREACION -->
<b>Creation</b>:
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
With all new items</a></h3><div class="squelch-taas-toggle-shortcode-content" >
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
//Enter the number of installments here.
parameters.put(PayU.PARAMETERS.INSTALLMENTS_NUMBER, "1");
// Enter the amount of trial days here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "10");

// -- Client parameters --
// Enter the costumer name here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_NAME, "Pedro Perez");
// Enter the costumer email here. 
parameters.put(PayU.PARAMETERS.CUSTOMER_EMAIL, "pperezz@payulatam.com");

//-- Credit card parameters --
// Enter the payer's name here.
parameters.put(PayU.PARAMETERS.PAYER_NAME, "Sample User Name");
//Enter the number of the credit card here.
parameters.put(PayU.PARAMETERS.CREDIT_CARD_NUMBER, "4242424242424242");
Enter the expiration date of the credit card here with format YYYY/MM
parameters.put(PayU.PARAMETERS.CREDIT_CARD_EXPIRATION_DATE, "2018/01");
// Enter the credit card’s franchise  
parameters.put(PayU.PARAMETERS.PAYMENT_METHOD, "VISA");
// (OPTIONAL) Enter the payer's identification document here.
parameters.put(PayU.PARAMETERS.PAYER_DNI, "1020304050");
// (OPTIONAL) Enter the first part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET, "Address Name");
// (OPTIONAL) Enter the second part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET_2, "17 25");
// (OPTIONAL) Enter the third part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET_3, "Of 301");
// (OPTIONAL) Enter the city of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_CITY, "City Name");
// (OPTIONAL) Enter the state of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_STATE, "State Name");
// (OPTIONAL) Enter the code of the country here.
parameters.put(PayU.PARAMETERS.PAYER_COUNTRY, "CO");
// (OPTIONAL) Enter the postal code of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_POSTAL_CODE, "00000");
// (OPTIONAL) Enter the contact phone here. 
parameters.put(PayU.PARAMETERS.PAYER_PHONE, "300300300");

// -- Plan parameters --
// Enter the plan‘s description here.
parameters.put(PayU.PARAMETERS.PLAN_DESCRIPTION, "Sample Plan 001");
// Enter the identification code of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CODE, "sample-plan-code-001");
// Enter the interval of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL, "MONTH");
// Enter the number of intervals here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL_COUNT, "1");
// Enter the currency of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CURRENCY, "COP");
// Enter the value of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_VALUE, "10000");
// (OPTIONAL) Enter the tax value here.
parameters.put(PayU.PARAMETERS.PLAN_TAX, "1600");
// (OPTIONAL) Enter the tax base return here.
parameters.put(PayU.PARAMETERS.PLAN_TAX_RETURN_BASE, "8400");
// Enter the account ID of the plan here.
parameters.put(PayU.PARAMETERS.ACCOUNT_ID, "500538");
// Enter the retry interval here
parameters.put(PayU.PARAMETERS.PLAN_ATTEMPTS_DELAY, "1");
// Enter the amount of charges that make up the plan here
parameters.put(PayU.PARAMETERS.PLAN_MAX_PAYMENTS, "12");
// Enter the total amount of retries here for each rejected subscription payment
parameters.put(PayU.PARAMETERS.PLAN_MAX_PAYMENT_ATTEMPTS, "3");
// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
parameters.put(PayU.PARAMETERS.PLAN_MAX_PENDING_PAYMENTS, "1");
// Enter the amount of trial days of the subscription here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "30");
	
Subscription response = PayUSubscription.create(parameters);
		
if(response!=null){
	response.getId();
	response.getCustomer().getId();
	response.getCreditCardToken();
	
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	//Enter the number of installments here.
	PayUParameters::INSTALLMENTS_NUMBER =&gt; "1",
	// Enter the amount of trial days here.
	PayUParameters::TRIAL_DAYS =&gt; "10",

	// -- Client parameters --
	// Enter the costumer name here. 
	PayUParameters::CUSTOMER_NAME =&gt; "Pedro Perez",
	// Enter the costumer email here. 
	PayUParameters::CUSTOMER_EMAIL =&gt; "pperezz@payulatam.com",

	//-- Credit card parameters --
	// Enter the payer's name here.
	PayUParameters::PAYER_NAME =&gt; "Sample User Name",
	// Enter the number of the credit card here
	PayUParameters::CREDIT_CARD_NUMBER =&gt; "4242424242424242",
	// Enter the expiration date of the credit card here with format YYYY/MM
	PayUParameters::CREDIT_CARD_EXPIRATION_DATE =&gt; "2014/12",
	// Enter the credit card’s franchise  
	PayUParameters::PAYMENT_METHOD =&gt; "VISA",
	// (OPTIONAL) Enter the payer's identification document here.
	PayUParameters::PAYER_DNI =&gt; "1020304050",
	// (OPTIONAL) Enter the first part of the address here 
	PayUParameters::PAYER_STREET =&gt; "Address Name",
	// (OPTIONAL) Enter the second part of the address here 
	PayUParameters::PAYER_STREET_2 =&gt; "17 25",
	// (OPTIONAL) Enter the third part of the address here 
	PayUParameters::PAYER_STREET_3 =&gt; "Of 301",
	// (OPTIONAL) Enter the city of the payer here.
	PayUParameters::PAYER_CITY =&gt; "City Name",
	// (OPTIONAL) Enter the state of the payer here.
	PayUParameters::PAYER_STATE =&gt; "State Name",
	// (OPTIONAL) Enter the code of the country here.
	PayUParameters::PAYER_COUNTRY =&gt; "CO",
	// (OPTIONAL) Enter the postal code of the payer here.
	PayUParameters::PAYER_POSTAL_CODE =&gt; "00000",
	// (OPTIONAL) Enter the contact phone here. 
	PayUParameters::PAYER_PHONE =&gt; "300300300",

	// -- Plan parameters --
	// Enter the plan‘s description here.
	PayUParameters::PLAN_DESCRIPTION =&gt; "Sample Plan 001",
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
	// Enter the interval of the plan here.
	PayUParameters::PLAN_INTERVAL =&gt; "MONTH",
	// Enter the number of intervals here.
	PayUParameters::PLAN_INTERVAL_COUNT =&gt; "1",
	// Enter the currency of the plan here.
	PayUParameters::PLAN_CURRENCY =&gt; "COP",
	// Enter the value of the plan here.
	PayUParameters::PLAN_VALUE =&gt; "10000",
	// (OPTIONAL) Enter the tax value here.
	PayUParameters::PLAN_TAX =&gt; "1600",
	// (OPTIONAL) Enter the tax base return here.
	PayUParameters::PLAN_TAX_RETURN_BASE =&gt; "8400",
	// Enter the account ID of the plan here.
	PayUParameters::ACCOUNT_ID =&gt; "500538",
	// Enter the retry interval here
	PayUParameters::PLAN_ATTEMPS_DELAY =&gt; "1",
	// Enter the amount of charges that make up the plan here
	PayUParameters::PLAN_MAX_PAYMENTS =&gt; "12",
	// Enter the total amount of retries here for each rejected subscription payment
	PayUParameters::PLAN_MAX_PAYMENT_ATTEMPTS =&gt; "3",
	// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
	PayUParameters::PLAN_MAX_PENDING_PAYMENTS =&gt; "1",
	// Enter the amount of trial days of the subscription here.
	PayUParameters::TRIAL_DAYS =&gt; "30",
);

$response = PayUSubscriptions::createSubscription($parameters);

if($response){
	$response-&gt;id;   
	$response-&gt;plan-&gt;id;
	$response-&gt;customer-&gt;id;        	
}
</pre>
</div>
</div>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
With all existing elements</a></h3><div class="squelch-taas-toggle-shortcode-content" >
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the plan code to subscribe 
parameters.put(PayU.PARAMETERS.PLAN_CODE, "sample-plan-code-001");
//Enter the payer's ID here.
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "eab38z33hh2");
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "a068e980-a6d7-4a19-b549-75c04f39ec22");
// Enter the amount of trial days of the subscription here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "10");
//Enter the number of installments here.
parameters.put(PayU.PARAMETERS.INSTALLMENTS_NUMBER, "1");
Subscription response = PayUSubscription.create(parameters);
		
if(response!=null){
	response.getId();
	
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the plan code to subscribe 
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001s",
	//Enter the payer's ID here.
	PayUParameters::CUSTOMER_ID =&gt; "f03612gyte",
	/// Enter the credit card’s token identifier here.
	PayUParameters::TOKEN_ID =&gt; "79490437-d64a-4dc6-baeb-8d52492b0a00",
	// Enter the amount of trial days of the subscription here.
	PayUParameters::TRIAL_DAYS =&gt; "10",
	//Enter the number of installments here.
	PayUParameters::INSTALLMENTS_NUMBER =&gt; "1",
);

$response = PayUSubscriptions::createSubscription($parameters);

if($response){
	$response-&gt;id;   
}
</pre>
</div>
</div>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
Already created plan and customer, and a new card</a></h3><div class="squelch-taas-toggle-shortcode-content" >
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the amount of trial days of the subscription here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "10");
//Enter the number of installments here.
parameters.put(PayU.PARAMETERS.INSTALLMENTS_NUMBER, "1");

// Enter the plan code to subscribe 
parameters.put(PayU.PARAMETERS.PLAN_CODE, "sample-plan-code-001");
//Enter the payer's ID here.
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "eab38z33hh2");

//-- Credit card parameters --
//Enter the buyer's name here.
parameters.put(PayU.PARAMETERS.PAYER_NAME, "Sample User Name");
//Enter the number of the credit card here
parameters.put(PayU.PARAMETERS.CREDIT_CARD_NUMBER, "4242424242424242");
//Enter the expiration date of the credit card here with format YYYY/MM
parameters.put(PayU.PARAMETERS.CREDIT_CARD_EXPIRATION_DATE, "2018/01");
// Enter the credit card’s franchise  
parameters.put(PayU.PARAMETERS.PAYMENT_METHOD, "VISA");
// (OPTIONAL) Enter the payer's identification document here.
parameters.put(PayU.PARAMETERS.PAYER_DNI, "1020304050");
// (OPTIONAL) Enter the first part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET, "Address Name");
// (OPTIONAL) Enter the second part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET_2, "17 25");
// (OPTIONAL) Enter the third part of the address here 
parameters.put(PayU.PARAMETERS.PAYER_STREET_3, "Of 301");
// (OPTIONAL) Enter the city of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_CITY, "City Name");
// (OPTIONAL) Enter the state of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_STATE, "State Name");
// (OPTIONAL) Enter the code of the country here.
parameters.put(PayU.PARAMETERS.PAYER_COUNTRY, "CO");
// (OPTIONAL) Enter the postal code of the payer here.
parameters.put(PayU.PARAMETERS.PAYER_POSTAL_CODE, "00000");
// (OPTIONAL) Enter the contact phone here. 
parameters.put(PayU.PARAMETERS.PAYER_PHONE, "300300300");
	
Subscription response = PayUSubscription.create(parameters);
		
if(response!=null){
	response.getId();
	response.getCreditCardToken();
	
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	//Enter the number of installments here.
	PayUParameters::INSTALLMENTS_NUMBER =&gt; "1",
	// Enter the amount of trial days here.
	PayUParameters::TRIAL_DAYS =&gt; "10",

	// -- Client parameters --
	//Enter the payer's ID here.
	PayUParameters::CUSTOMER_ID =&gt; "f03612gyte",

	//-- Credit card parameters --
	//Enter the buyer's name here.
	PayUParameters::PAYER_NAME =&gt; "Sample User Name",
	//Enter the number of the credit card here
	PayUParameters::CREDIT_CARD_NUMBER =&gt; "4242424242424242",
	// Enter the expiration date of the credit card here with format YYYY/MM
	PayUParameters::CREDIT_CARD_EXPIRATION_DATE =&gt; "2014/12",
	// Enter the credit card’s franchise  
	PayUParameters::PAYMENT_METHOD =&gt; "VISA",
	// (OPTIONAL) Enter the payer's identification document here.
	PayUParameters::PAYER_DNI =&gt; "1020304050",
	// (OPTIONAL) Enter the first part of the address here 
	PayUParameters::PAYER_STREET =&gt; "Address Name",
	// (OPTIONAL) Enter the second part of the address here 
	PayUParameters::PAYER_STREET_2 =&gt; "17 25",
	// (OPTIONAL) Enter the third part of the address here 
	PayUParameters::PAYER_STREET_3 =&gt; "Of 301",
	// (OPTIONAL) Enter the city of the payer here.
	PayUParameters::PAYER_CITY =&gt; "City Name",
	// (OPTIONAL) Enter the state of the payer here.
	PayUParameters::PAYER_STATE =&gt; "State Name",
	// (OPTIONAL) Enter the code of the country here.
	PayUParameters::PAYER_COUNTRY =&gt; "CO",
	// (OPTIONAL) Enter the postal code of the payer here.
	PayUParameters::PAYER_POSTAL_CODE =&gt; "00000",
	// (OPTIONAL) Enter the contact phone here. 
	PayUParameters::PAYER_PHONE =&gt; "300300300",

	// -- Plan parameters --
	// Enter the plan code to subscribe 
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
 );

$response = PayUSubscriptions::createSubscription($parameters);

if($response){
	$response-&gt;id;   
}
</pre>
</div>
</div>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
Already created customer and card, and with new plan</a></h3><div class="squelch-taas-toggle-shortcode-content" >
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre style="height:200px; overflow: auto;">
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
//Enter the number of installments here.
parameters.put(PayU.PARAMETERS.INSTALLMENTS_NUMBER, "1");
// Enter the amount of trial days here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "10");

//Enter the payer's ID here.
parameters.put(PayU.PARAMETERS.CUSTOMER_ID, "eab38z33hh2");
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "a068e980-a6d7-4a19-b549-75c04f39ec22");

// -- Plan parameters --
// Enter the plan‘s description here.
parameters.put(PayU.PARAMETERS.PLAN_DESCRIPTION, "Sample Plan 001");
// Enter the identification code of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CODE, "sample-plan-code-001");
// Enter the interval of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL, "MONTH");
// Enter the number of intervals here.
parameters.put(PayU.PARAMETERS.PLAN_INTERVAL_COUNT, "1");
// Enter the currency of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_CURRENCY, "COP");
// Enter the value of the plan here.
parameters.put(PayU.PARAMETERS.PLAN_VALUE, "10000");
// (OPTIONAL) Enter the tax value here.
parameters.put(PayU.PARAMETERS.PLAN_TAX, "1600");
// (OPTIONAL) Enter the tax base return here.
parameters.put(PayU.PARAMETERS.PLAN_TAX_RETURN_BASE, "8400");
// Enter the account ID of the plan here.
parameters.put(PayU.PARAMETERS.ACCOUNT_ID, "500538");
// Enter the retry interval here
parameters.put(PayU.PARAMETERS.PLAN_ATTEMPTS_DELAY, "1");
// Enter the amount of charges that make up the plan here
parameters.put(PayU.PARAMETERS.PLAN_MAX_PAYMENTS, "12");
// Enter the total amount of retries here for each rejected subscription payment
parameters.put(PayU.PARAMETERS.PLAN_MAX_PAYMENT_ATTEMPTS, "3");
// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
parameters.put(PayU.PARAMETERS.PLAN_MAX_PENDING_PAYMENTS, "1");
// Enter the amount of trial days here.
parameters.put(PayU.PARAMETERS.TRIAL_DAYS, "30");
	
Subscription response = PayUSubscription.create(parameters);
		
if(response!=null){
	response.getId();		
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre style="height:200px; overflow: auto;">
$parameters = array(
	//Enter the number of installments here.
	PayUParameters::INSTALLMENTS_NUMBER =&gt; "1",
	// Enter the amount of trial days here.
	PayUParameters::TRIAL_DAYS =&gt; "10",

	//-- Credit card parameters --
	//Enter the payer's ID here.
	PayUParameters::CUSTOMER_ID =&gt; "5131879lzbx",
	// Enter the credit card’s token identifier here.
	PayUParameters::TOKEN_ID =&gt; "158e5bed-1e76-4bb2-83c2-97dc9bb1522d",

	// -- Plan parameters --
	// Enter the plan‘s description here.
	PayUParameters::PLAN_DESCRIPTION =&gt; "Sample Plan 001",
	// Enter the identification code of the plan here.
	PayUParameters::PLAN_CODE =&gt; "sample-plan-code-001",
	// Enter the interval of the plan here.
	PayUParameters::PLAN_INTERVAL =&gt; "MONTH",
	// Enter the number of intervals here.
	PayUParameters::PLAN_INTERVAL_COUNT =&gt; "1",
	// Enter the currency of the plan here.
	PayUParameters::PLAN_CURRENCY =&gt; "COP",
	// Enter the value of the plan here.
	PayUParameters::PLAN_VALUE =&gt; "10000",
	// (OPTIONAL) Enter the tax value here.
	PayUParameters::PLAN_TAX =&gt; "1600",
	// (OPTIONAL) Enter the tax base return here.
	PayUParameters::PLAN_TAX_RETURN_BASE =&gt; "8400",
	// Enter the account ID of the plan here.
	PayUParameters::ACCOUNT_ID =&gt; "500538",
	// Enter the retry interval here
	PayUParameters::PLAN_ATTEMPS_DELAY =&gt; "1",
	// Enter the amount of charges that make up the plan here
	PayUParameters::PLAN_MAX_PAYMENTS =&gt; "12",
	// Enter the total amount of retries here for each rejected subscription payment
	PayUParameters::PLAN_MAX_PAYMENT_ATTEMPTS =&gt; "3",
	// Enter the maximum amount of pending payments here that a subscription may have before being canceled.
	PayUParameters::PLAN_MAX_PENDING_PAYMENTS =&gt; "1",
	// Enter the amount of trial days of the subscription here.
	PayUParameters::TRIAL_DAYS =&gt; "30",
);

$response = PayUSubscriptions::createSubscription($parameters);

if($response){
	$response-&gt;id;   
	$response-&gt;plan-&gt;id;  
}
</pre>
</div>
</div>
</div></div>
&nbsp;<br>
<b>Update</b>: (Credit card of a subscription)
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();

// Enter the subscription ID here.
parameters.put(PayU.PARAMETERS.SUBSCRIPTION_ID, "320756yk1x0");
// Enter the credit card’s token identifier here.
parameters.put(PayU.PARAMETERS.TOKEN_ID, "a068e980-a6d7-4a19-b549-75c04f39ec22");

Subscription response = PayUSubscription.update(parameters);
		
if(response!=null){
	
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
No disponible
</pre>
</div>
</div>
&nbsp;<br>
<b>Query</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the subscription ID here.
parameters.put(PayU.PARAMETERS.SUBSCRIPTION_ID, "320756yk1x0");

Subscription response = PayUSubscription.find(parameters);
		
if(response!=null){
	response.getCreditCardToken();
	response.getCustomer();
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
No disponible
</pre>
</div>
</div>
&nbsp;<br>
<b>Delete</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Ingresa aquí el identifcador de la subscripción.
parameters.put(PayU.PARAMETERS.SUBSCRIPTION_ID, "123");
boolean response = PayUSubscription.cancel(parameters);
LoggerUtil.info("{0}", response);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Enter the subscription ID here.
	PayUParameters::SUBSCRIPTION_ID =&gt; "03e481u9l13",
);

$response = PayUSubscriptions::cancel($parameters);

if($response){
}
</pre>
</div>
</div>
<!-- FIN TABS SUSCRIPCION -->
</div>

&nbsp;<br>
<div id="cargos-adicionales" class="payu-fragment">
&nbsp;<br>
<div class="paso5"><span class="subtitle-page">Additional charges</span></div>
&nbsp;<br>
<span class="grey-text-13">A charge may be an additional charge or a discount realized on the value of one of the payments that comprise the recurring payment plan. These only affect the next pending charge and run once.</span>
&nbsp;<br>
<span class="grey-text-13">The following operations are available:</span>
&nbsp;<br>
<table class="table-d" >
	<tr bgcolor="#696a6c">
		<td><span style="color: #fff; font-weight: bold;">Url</span></td>
		<td><span style="color: #fff; font-weight: bold;">Method</span></td>
		<td><span style="color: #fff; font-weight: bold;">Description</span></td>
	</tr>
	<tr>
		<td>/rest/v4.3/subscriptions/{subscriptionId}/recurringBillItems</td>
		<td>POST</td>
		<td>Adds extra charges to the relevant invoice for the current period.<br>
		{subscriptionId} : Identification of the subscription</td>
	</tr>
	<tr>
		<td>/rest/v4.3/recurringBillItems/{recurringBillItemId}</td>
		<td>PUT</td>
		<td>Update the information of the extra charge of an invoice<br>
		{recurringBillItemId} : Identification of charge</td>
	</tr>
	<tr>
		<td>/rest/v4.3/recurringBillItems/{recurringBillItemId}</td>
		<td>GET</td>
		<td>Query the extra charge information of an invoice from its identifier.<br>
		{recurringBillItemId} : Identifier of the extra  charge</td>
	</tr>
	<tr>
		<td>/rest/v4.3/recurringBillItems/{recurringBillItemId}</td>
		<td>DELETE</td>
		<td>Delete an extra charge from a bill<br>
		{recurringBillItemId} : Identifier of the extra  charge</td>
	</tr>
	<tr>
		<td>/rest/v4.3/recurringBillItems/params</td>
		<td>GET</td>
		<td>Query extra charges from the shop’s bills that meet the stipulated filters. The available filters are shown below and should be sent as named parameters in the URL:<br>
		{subscriptionId} : Identification of the subscription<br>
		{description} : Description entered in the extra charge</td>
	</tr>
</table>

<!-- TABS CARGOS ADICIONALES -->
&nbsp;<br>
<b>Creation</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Additional charge description
parameters.put(PayU.PARAMETERS.DESCRIPTION, "Cargo extra de prueba");
// Value of the additional charge 
parameters.put(PayU.PARAMETERS.ITEM_VALUE, "20000");
// Currency
parameters.put(PayU.PARAMETERS.CURRENCY, "COP");
// Enter the subscription ID here.
parameters.put(PayU.PARAMETERS.SUBSCRIPTION_ID, "52b04sx2s6");
// Enter the taxes here (optional)
parameters.put(PayU.PARAMETERS.ITEM_TAX, "0");
// Devolution base of the taxes (optional) 
parameters.put(PayU.PARAMETERS.ITEM_TAX_RETURN_BASE, "0");
RecurringBillItem response = PayURecurringBillItem.create(parameters);

if(response!=null){
	response.getId();		
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Additional charge description
	PayUParameters::DESCRIPTION =&gt; "Cargo extra de prueba",
	// Value of the additional charge 
	PayUParameters::ITEM_VALUE =&gt; "20000",
	// Currency
	PayUParameters::CURRENCY =&gt; "COP",
	// Enter the subscription ID here.
	PayUParameters::SUBSCRIPTION_ID =&gt; "a9d01imeihk",
	// Enter the taxes here (optional)
	PayUParameters::ITEM_TAX =&gt; "0",
	// Devolution base of the taxes (optional) 
	PayUParameters::ITEM_TAX_RETURN_BASE =&gt; "0",
);

$response = PayURecurringBillItem::create($parameters);

if($response){
	$response-&gt;id;
}
</pre>
</div>
</div>
&nbsp;<br>
<b>Update</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Enter the additional charge ID here.
parameters.put(PayU.PARAMETERS.RECURRING_BILL_ITEM_ID, "15tolsvwz7l");
//(OPTIONAL) New description of the additional charge 
parameters.put(PayU.PARAMETERS.DESCRIPTION, "Test Item New");
//(OPTIONAL) New value of the additional charge
parameters.put(PayU.PARAMETERS.ITEM_VALUE, "200.5");
//(OPTIONAL) New currency of the additional charge
parameters.put(PayU.PARAMETERS.CURRENCY, "COP");
//(OPTIONAL) New tax value of the additional charge
parameters.put(PayU.PARAMETERS.ITEM_TAX, "15");
//(OPTIONAL) New devolution base of the taxes for the additional charge
parameters.put(PayU.PARAMETERS.ITEM_TAX_RETURN_BASE, "185.5");
RecurringBillItem response = PayURecurringBillItem.update(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Additional charge ID
	PayUParameters::RECURRING_BILL_ITEM_ID =&gt; "cbb57ywul2l",
	// Additional charge description
	PayUParameters::DESCRIPTION =&gt; "Cargo extra de prueba",
	// Value of the additional charge 
	PayUParameters::ITEM_VALUE =&gt; "20000",
	// Currency
	PayUParameters::CURRENCY =&gt; "COP",
	// Enter the taxes here (optional)
	PayUParameters::ITEM_TAX =&gt; "0",
	// Devolution base of the taxes (optional) 
	PayUParameters::ITEM_TAX_RETURN_BASE =&gt; "0",
);

$response = PayURecurringBillItem::update($parameters);

if($response){
}
</pre>
</div>
</div>
&nbsp;<br>
<b>Query</b>: (By additional charge id)
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();

// Additional charge ID
parameters.put(PayU.PARAMETERS.RECURRING_BILL_ITEM_ID, "5e174m7lgns");

RecurringBillItem response = PayURecurringBillItem.find(parameters);

if(response!=null){
	
}
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Additional charge ID
	PayUParameters::RECURRING_BILL_ITEM_ID =&gt; "cbb57ywul2l",
);

$response = PayURecurringBillItem::find($parameters);

if($response){
	$response-&gt;description;
	$response-&gt;subscriptionId;
	$response-&gt;recurringBillId;	
}
</pre>
</div>
</div>

&nbsp;<br>
<b>Delete</b>:
<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
<ul>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">SDK Java</a></li>
<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">SDK PHP</a></li>
</ul>
<div id="squelch-taas-tab-content-1">
Example request:
<pre>
Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
// Additional charge ID
parameters.put(PayU.PARAMETERS.RECURRING_BILL_ITEM_ID, "15tolsvwz7l");
boolean response = PayURecurringBillItem.delete(parameters);
</pre>
</div>
<div id="squelch-taas-tab-content-2">
Example request:
<pre>
$parameters = array(
	// Additional charge ID
	PayUParameters::RECURRING_BILL_ITEM_ID =&gt; "228bdp236sy",
);

$response = PayURecurringBillItem::delete($parameters);

if($response){

}
</pre>
</div>
</div>
<!-- FIN TABS CARGOS ADICIONALES -->
</div>
&nbsp;<br>
&nbsp;<br>

</div>

</div>
</div>
</div>